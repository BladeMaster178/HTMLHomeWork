<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>
        // function g() {
        //     debugger;
        //     var c = 0;
        //     const addOne = function () {
        //         c++;
        //         return c;
        //     }
        //     return addOne;
        // }
        // var i = g();
        // console.log(i());
        // console.log(i());
        // var j = g();
        // console.log(j());
        //console.clear();
        // function f1() {
        //     debugger;
        //     randomRange = (x, y) => Math.floor(Math.random() * (y - x + 1) + x);

        //     getarr = () => {
        //         let arr = [];
        //         for (let i = 0; i < 20; i++) arr.push(randomRange(10, 19));
        //         return arr;
        //     };

        //     let counter = {};

        //     for (let j = 0; j < 1000; j++) {
        //         let arr = getarr();

        //         for (let i = 0; i < arr.length; i++)
        //             counter[arr[i]] = (counter[arr[i]] ? counter[arr[i]] : 0) + 1;
        //     }
        //     console.log(counter);
        // }
        // f1();
        //Задача1
        // Напишите функцию, которая создаёт и возвращает массив длиной 20 элементов, 
        //каждый из которых – случайное число от 1 до 50.

        function genrandom() {
            let mass = [];
            for (let i = 0; i < 20; i++) {
                mass.push(Math.round((Math.random() * 49 + 1)))
            }
            // counter = {}
            // for (let i in arr)
            //     counter[arr[i]] = +1
            return mass;
        }
        console.log(genrandom());


        //Задача2
        // Перепишите функцию из задачи 1, так, чтобы она принимала три аргумента: длину нужного массива,
        // минимальное и максимальное значения элементов.
        function genrandom2(masslength, min, max) {
            let mass = [];
            for (let i = 0; i < masslength; i++) {

                mass.push(Math.round((Math.random() * (max - min) + min)))

            }
            // counter = {}
            // for (let i in arr)
            //     counter[arr[i]] = +1
            return mass;
        }
        console.log(genrandom2(20, -10, 10));

        //Задача3
        //Напишите функцию, которая проверяет, начинается ли строка на https:// и заканчивается ли она на .html. 
        //Если оба условия выполнены, функция возвращает true, в ином случае – false.
        function stringHTML(str = "http://abcd.html") {
            // str.indexOf("http://") == 0 &&  str.lastIndexOf(".html") == str.length;
            if (str.indexOf("http://") == 0 && str.lastIndexOf(".html") == str.length - 5) {
                return true;
            }
            else
                return false;
        }
        console.log(stringHTML());
        //Задача4
        //Напишите функцию, которая считает, сколько раз определённый символ встречается в строке.
        // function countChars_long(str) {
        //     let result = {};
        //     let chars = str.split("");
        //     for (let i = 0; i < chars.length; i++) {
        //         let count = result[chars[i]] ? result[chars[i]] : 0;
        //         result[chars[i]] = count + 1;
        //     }
        //     return result;
        // }

        function countChars_long(str) {
            let result = {};
            let chars = str.split("");
            for (let i = 0; i < chars.length; i++) {
                let count = result[chars[i]] ? result[chars[i]] : 0;
                result[chars[i]] = count + 1;
            }
            return result;
        }
        // function countChars_short(str) {
        //     return str.split("").reduce((r, c) => (r[c] = (r[c] || 0) + 1, r), {});
        // }

        //  console.log(countChars_long("aabbaccd"));

        function ccc(s, ch) {
            let o =  countChars_long(s)
            return o[ch] ? 0 : o[ch]
           
        }
        console.log(ccc("aabbaccd"));
        // console.log(countChars_short("aabbaccd"));

        //Задача5
        //Перепишите функцию из задачи 4 так, чтобы она считала большие и 
        //маленькие буквы одним и тем же символом (например, 'A' == 'a').

        // function countChars(str) {
        //     var result = {};
        //     var chars = str.split("");
        //     for (var i = 0; i < chars.length; i++) {
        //         var count = result[chars[i]] ? result[chars[i]] : 0;
        //         result[chars[i]] = count + 1;
        //     }
        //     return result;
        // }
        // console.log(countChars("aAbBaCcd"));

        // let letters = ['a', 'b', 'c', 'A', 'B', 'C', '(', ')', '+', '-', '~', '*'];
        //&& letters[i] === letters[i].toLowerCase()
        function letters() {
            let letters = ['a', 'b', 'c', 'A', 'B', 'C'];
            for (let i = 0; i < letters.length; i++) {
                if (letters[i] == letters[i].toLowerCase() && letters[i] == letters[i].toLowerCase()) {
                    console.log(letters[i] + ":" + true);
                }
                else {
                    console.log(letters[i] + ":" + false);
                }
            }
        }
        letters();

        //Задача6
        // Напишите функцию, которая выводит в консоль текущие дату, месяц и год в формате «24 января 2019».
        function dateToday() {
            let now = new Date();
            console.log(now.getDate() + " " + "августа" + " " + now.getFullYear())
        }
        dateToday();


        //Задача7
        //Напишите функцию, которая выводит в консоль количество секунд, прошедших с начала текущего дня.\
        function secOfTheDay() {
            console.log(Date.now("17 Aug 2021 00:00:00 GTM"));
        }
        secOfTheDay();

        //Задача1.1
        //Напишите функцию, которая принимает массив случайных чисел (см. задачу 2 в практике) и создает на его основе
        // новый. Элементы нового массива – объекты вида {initial: num1, sqrt: num2, floor: boolean1, ceil: boolean2}.
        //initial – значение элемента исходного массива с тем же индексом, sqrt – корень квадратный из этого значения. 
        //Если округление sqrt по обычным математическим правилам сходится с его округлением через floor, 
        //то floor = true, а ceil = false. Если сходится с округлением через ceil - наоборот.
        //Например, пусть у исходного массива arr[0] = 19, тогда в новом массиве newArr[0] = 
        //{initial: 19, sqrt: 4.358898943540674, floor: true, ceil: false}.
        function mas() {
            arr[0] = 19;
            newArr[0] = { initial: 19, sqrt: 4.358898943540674, floor: true, ceil: false }
        }

        // console.log(mas());
        //Задача1.2
        // Добавьте в каждый элемент массива из задачи 1 ещё одно свойство: значение sqrt, округленное до сотых.

        //Задача1.3
        //Напишите функцию, которая определяет, 
        //является ли строка [палиндромом]
        //(https://ru.wikipedia.org/wiki/%D0%9F%D0%B0%D0%BB%D0%B8%D0%BD%D0%B4%D1%80%D0%BE%D0%BC).
        function isPalindrome(str) {
            var strLen = str.length,
                strReverse = str.split('').reverse().join(''); //Разбиваем строку посимвольно 
            // и превращаем ее в массив с помощью split(''), потом применяем к нему метод reverse() 
            //и собираем все символы в строку с помощью join('')
            if (strReverse == str) {
                return 'yes';
            } else {
                return 'no';
            }
        }

        console.log(isPalindrome('abcdedcba'));

        function isPalindrome1(word) {
            word.trim();
            for (let count; count < word.length; count++) {
                if (word[count] !== word[word.length - count - 1]) return false
            }
            return true
        }
        console.log(isPalindrome1('abcdedcba'));

        // isPalindrome('abcdedcba');
        // isPalindrome('abcded');
        //Задача1.4
        //Напишите функцию, которая принимает строку и возвращает символ, который встречается в ней чаще всего.
        // Если таких символов несколько, функция должна возвращать строку из этих символов.
        function maxRecurringChar(text) {
            let charMap = {}
            let maxCharValue = 0
            let maxChar = ''

            for (let char of text) {
                if (charMap.hasOwnProperty(char)) {
                    charMap[char]++
                } else {
                    charMap[char] = 1
                }
            }

            for (let char in charMap) {
                if (charMap[char] > maxCharValue) {
                    maxCharValue = charMap[char]
                    maxChar = char
                }
            }

            return maxChar
        }
        console.log(maxRecurringChar("aAbBaCcda"));
        //Задача1.5
        //Напишите функцию, которая получает в аргументы три строки – str, search, replace. 
        //Функция ищет ВСЕ вхождения search в str, заменяет каждую подстроку search на подстроку
        // replace и возвращает результат.

        //Задача1.6
        // Напишите функцию, которая заменяет первую букву каждого слова в строке на такую же большую.
        function string() {
            let string = 'I am  the code';
            var splits = string.split(" ");
            var stringItog = "";

            for (let i = 0; i < splits.length; i++) {
                let Name = splits[i];
                let First = Name.substring(0, 1).toUpperCase();
                let Leftovers = Name.substring(1, Name.length)
                stringItog += First + Leftovers + " ";
            }

            console.log(stringItog)
        }
        string();
        //Задача1.7
        //Напишите функцию, которая заменяет все повторяющиеся символы в строке на звёздочки. Например, строка "я учусь
        // программированию" должна преобразоваться в "я уч&ast;сь прог&ast;ам&ast;и&ast;&ast;в&ast;н&ast;ю".


        //Задача1.8
        // Напишите функцию, которая возвращает текущий день недели на русском языке.
        function data() {
            // let testDate = new Date(1500000000000)
            // console.log(testDate.toString())
            console.log(new Date(2021, 0, 1,));

        }
        data();
        //Задача1.9
       // Напишите функцию, которая принимает у пользователя дату в формате "ДД-ММ-ГГГГ" и, 
       //используя функцию из задачи 8, выдает в консоль день недели для этой даты

        //Задача1.10
        //Примите у пользователя день его рождения в формате "ДД-ММ-ГГГГ". Напишите функцию, которая выводит в консоль
        // количество дней, оставшихся до его дня рождения. Напишите функцию, которая возвращает дату,
        // в которую пользователь отметит ближайший 1000-дневный юбилей (например, 11000 дней).

        //Задача1.11
        // Напишите функцию, которая принимает число, проверяет, является ли оно квадратом целого числа.
        // Если это так, функция возвращает квадратный корень исходного числа; 
        //в ином случае генерирует ошибку. Используя задачу 2 из практики, создайте массив целых чисел. 
        //Вызовите написанную функцию для каждого элемента, отлавливая ошибки и выводя в консоль сообщения и о них,
        // и об успешных результатах. Массив должен быть пройден до конца, несмотря на ошибки!


    </script>
</body>

</html>